<!DOCTYPE html>  
<html lang="en">  
<head>  
    <!-- Primary Meta Tags -->
    <title>basement - Free Fire Items Database | Search Items, IDs & Details</title>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <meta name="title" content="basement - Free Fire Items Database | Search Items, IDs & Details">
    <meta name="description" content="Explore the complete Free Fire items database. Search weapons, skins, characters & more by name, ID or description. Get detailed item information instantly.">
    <meta name="keywords" content="free fire items, ff items database, free fire weapons, ff skins, free fire characters, item ID search, ff basement, free fire community, garena free fire, battle royale items">
    <meta name="author" content="Free Fire Community">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://basement.freefirecommunity.com/">
    <meta property="og:title" content="basement - Free Fire Items Database">
    <meta property="og:description" content="Explore the complete Free Fire items database. Search weapons, skins, characters & more by name, ID or description.">
    <meta property="og:image" content="https://www.freefirecommunity.com/wp-content/uploads/2025/06/FreeFireCommunityLogoRefined.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="basement - Free Fire Community">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://basement.freefirecommunity.com/">
    <meta property="twitter:title" content="basement - Free Fire Items Database">
    <meta property="twitter:description" content="Explore the complete Free Fire items database. Search weapons, skins, characters & more by name, ID or description.">
    <meta property="twitter:image" content="https://www.freefirecommunity.com/wp-content/uploads/2025/06/FreeFireCommunityLogoRefined.png">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://www.freefirecommunity.com/wp-content/uploads/2025/06/cropped-FFCRefinedFavicon-1.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.freefirecommunity.com/wp-content/uploads/2025/06/cropped-FFCRefinedFavicon-1.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.freefirecommunity.com/wp-content/uploads/2025/06/cropped-FFCRefinedFavicon-1.png">
    <link rel="manifest" href="assets/site.webmanifest">
    <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#ff6b35">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="theme-color" content="#000000">
    
    <!-- External Resources -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K62W5JEY4K"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K62W5JEY4K');
    </script>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6409311049525505" crossorigin="anonymous"></script>
    
    <!-- Security Headers -->
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://*.discord.com https://*.discordapp.com https://discord.com https://discordapp.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://basement.freefirecommunity.com/">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "basement - Free Fire Items Database",
      "url": "https://basement.freefirecommunity.com",
      "description": "Complete Free Fire items database with search functionality for weapons, skins, characters and more.",
      "applicationCategory": "GameApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Organization",
        "name": "Free Fire Community"
      }
    }
    </script>  
    <style>
        /* Import optimized fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        :root {
            /* Enhanced Color Palette */
            --primary-orange: #ff6b35;
            --primary-orange-hover: #e55a2b;
            --primary-orange-light: rgba(255, 107, 53, 0.1);
            --accent-blue: #007acc;
            --accent-blue-hover: #005999;
            --background-color: #0a0a0a;
            --background-secondary: #111111;
            --text-color: #ffffff;
            --text-secondary: #b3b3b3;
            --text-muted: #666666;
            --card-background: #1a1a1a;
            --card-hover-background: #252525;
            --card-border: #2a2a2a;
            --card-hover-border: var(--primary-orange);
            --modal-background: rgba(0, 0, 0, 0.95);
            --modal-content-background: #1a1a1a;
            --button-active-background: var(--primary-orange);
            --button-active-text: #ffffff;
            --success-color: #4ade80;
            --warning-color: #facc15;
            --error-color: #ef4444;
            --gradient-primary: linear-gradient(135deg, var(--primary-orange) 0%, #ff8a65 100%);
            --gradient-background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            --shadow-small: 0 2px 4px rgba(0,0,0,0.3);
            --shadow-medium: 0 4px 12px rgba(0,0,0,0.4);
            --shadow-large: 0 8px 32px rgba(0,0,0,0.5);
            --shadow-glow: 0 0 20px rgba(255, 107, 53, 0.3);
            
            /* Typography */
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-size-xs: 12px;
            --font-size-sm: 14px;
            --font-size-base: 16px;
            --font-size-lg: 18px;
            --font-size-xl: 20px;
            --font-size-2xl: 24px;
            --font-size-3xl: 32px;
            
            /* Spacing */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --spacing-2xl: 48px;
            
            /* Border Radius */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --radius-full: 9999px;
            
            /* Transitions */
            --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Performance optimizations */
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        *::before,
        *::after {
            box-sizing: border-box;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }
        
        /* Selection styling */
        ::selection {
            background-color: var(--primary-orange-light);
            color: var(--primary-orange);
        }
        
        /* Base body styles */
        body {
            background: var(--gradient-background);
            color: var(--text-color);
            font-family: var(--font-family);
            font-size: var(--font-size-base);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            touch-action: pan-y;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Hide scrollbars while maintaining functionality */
        body::-webkit-scrollbar,
        .pagination::-webkit-scrollbar {
            width: 6px;
        }
        
        body::-webkit-scrollbar-track,
        .pagination::-webkit-scrollbar-track {
            background: transparent;
        }
        
        body::-webkit-scrollbar-thumb,
        .pagination::-webkit-scrollbar-thumb {
            background: var(--card-border);
            border-radius: var(--radius-full);
        }
        
        body::-webkit-scrollbar-thumb:hover,
        .pagination::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* Enhanced Header with Glassmorphism */
        .header {
            width: 100%;
            padding: var(--spacing-md) var(--spacing-lg);
            user-select: none;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--card-border);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
            box-shadow: var(--shadow-medium);
            transition: all var(--transition-normal);
        }

        .header.scrolled {
            height: 60px;
            background: rgba(10, 10, 10, 0.98);
            box-shadow: var(--shadow-large);
        }

        .header.search-mode {
            height: auto;
            flex-direction: column;
            align-items: stretch;
            padding: var(--spacing-md);
            background: rgba(10, 10, 10, 0.98);
        }

        .header-title-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            height: 42px;
        }

        .header-branding {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .header-logo {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-sm);
            object-fit: contain;
            transition: transform var(--transition-normal);
        }

        .header-logo:hover {
            transform: scale(1.05);
        }

        .header-title {
            font-weight: 700;
            font-size: var(--font-size-xl);
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
            transition: all var(--transition-normal);
        }

        .header.search-mode .header-branding {
            display: none;
        }

        .header.search-mode .header-title {
            display: none;
        }

        .header-menu {
            font-size: var(--font-size-lg);
            padding: var(--spacing-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
            border-radius: var(--radius-md);
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 42px;
            height: 42px;
        }

        .header-menu:hover {
            background: var(--primary-orange-light);
            color: var(--primary-orange);
            transform: scale(1.05);
        }

        .header.search-mode .header-menu {
            transform: rotate(180deg);
            background: var(--primary-orange-light);
            color: var(--primary-orange);
        }

        /* Enhanced Search Container */
        .search-container {
            position: relative;
            width: 100%;
            display: none;
        }

        .header.search-mode .search-container {
            display: block;
            animation: slideDown var(--transition-normal) ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-textarea {
            width: 100%;
            padding: var(--spacing-md) var(--spacing-md) var(--spacing-md) 45px;
            border-radius: var(--radius-md);
            border: 2px solid var(--card-border);
            background: var(--card-background);
            color: var(--text-color);
            font-family: var(--font-family);
            font-size: var(--font-size-base);
            height: 48px;
            resize: none;
            text-align: left;
            transition: all var(--transition-normal);
        }

        .search-textarea::placeholder {
            color: var(--text-muted);
            font-weight: 400;
        }

        .search-textarea:focus {
            outline: none;
            border-color: var(--primary-orange);
            box-shadow: 0 0 0 3px var(--primary-orange-light);
            background: var(--background-secondary);
        }

        .search-icon {
            position: absolute;
            left: var(--spacing-md);
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: var(--font-size-base);
            transition: color var(--transition-normal);
        }

        .search-textarea:focus + .search-icon {
            color: var(--primary-orange);
        }

        /* Enhanced Filters */
        .filters-row {
            display: none;
            width: 100%;
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }

        .header.search-mode .filters-row {
            display: flex;
            animation: slideDown var(--transition-normal) ease-out 0.1s both;
        }

        .filter-select {
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            border: 2px solid var(--card-border);
            background: var(--card-background);
            color: var(--text-color);
            font-size: var(--font-size-sm);
            font-weight: 500;
            cursor: pointer;
            outline: none;
            user-select: none;
            width: 100%;
            font-family: var(--font-family);
            flex: 1;
            transition: all var(--transition-normal);
            height: 40px;
        }

        .filter-select:hover {
            border-color: var(--primary-orange);
            background: var(--background-secondary);
        }

        .filter-select:focus {
            border-color: var(--primary-orange);
            box-shadow: 0 0 0 3px var(--primary-orange-light);
        }

        /* Enhanced Container and Grid */
        .container {
            padding: var(--spacing-xl) var(--spacing-lg);
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            transition: transform var(--transition-normal);
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
            gap: var(--spacing-md);
            width: 100%;
        }

        /* Beautiful Icon Cards with Enhanced Hover Effects */
        .icon-card {
            background: var(--card-background);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            text-align: center;
            user-select: none;
            cursor: pointer;
            border: 2px solid var(--card-border);
            transition: all var(--transition-normal);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 110px;
            position: relative;
            overflow: hidden;
        }

        .icon-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity var(--transition-normal);
            z-index: 0;
        }

        .icon-card:hover {
            border-color: var(--primary-orange);
            transform: translateY(-4px) scale(1.02);
            box-shadow: var(--shadow-glow);
        }

        .icon-card:hover::before {
            opacity: 0.1;
        }

        .icon-card:active {
            transform: translateY(-2px) scale(0.98);
        }

        .icon-card img {
            width: 70px;
            height: 70px;
            border-radius: var(--radius-sm);
            animation: iconLoad var(--transition-slow) ease-out;
            pointer-events: none;
            object-fit: contain;
            position: relative;
            z-index: 1;
            transition: transform var(--transition-normal);
        }

        .icon-card:hover img {
            transform: scale(1.1);
        }

        @keyframes iconLoad {
            from { 
                opacity: 0; 
                transform: scale(0.8) rotateY(90deg); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) rotateY(0deg); 
            }
        }

        /* Enhanced Pagination */
        .pagination-container {
            margin-top: var(--spacing-2xl);
            display: flex;
            justify-content: center;
            width: 100%;
        }

        .pagination {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            background: var(--card-background);
            border: 2px solid var(--card-border);
            padding: var(--spacing-sm);
            border-radius: var(--radius-xl);
            max-width: 100%;
            user-select: none;
            scrollbar-width: thin;
            box-shadow: var(--shadow-medium);
        }

        .pagination button {
            padding: var(--spacing-sm) var(--spacing-md);
            margin: 2px;
            border: none;
            background: transparent;
            color: var(--text-color);
            cursor: pointer;
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            font-weight: 500;
            transition: all var(--transition-normal);
            font-family: var(--font-family);
            min-width: 40px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pagination button:hover {
            background: var(--primary-orange-light);
            color: var(--primary-orange);
            transform: scale(1.05);
        }

        .pagination button.active {
            background: var(--gradient-primary);
            color: var(--button-active-text);
            font-weight: 600;
            box-shadow: var(--shadow-small);
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Enhanced Modal with Beautiful Animations */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--modal-background);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            z-index: 1000;
            overflow: hidden;
            touch-action: none;
        }

        .modal.show {
            display: flex !important;
            align-items: center;
            justify-content: center;
            animation: modalFadeIn var(--transition-normal) ease-out;
        }

        /* Share modal specific styles */
        .share-modal-overlay {
            transition: opacity 0.2s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .modal-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
            opacity: 0;
            transition: opacity var(--transition-normal);
        }

        .modal.show .modal-bg {
            opacity: 1;
        }

        .modal-content {
            background: var(--modal-content-background);
            padding: var(--spacing-2xl);
            border-radius: var(--radius-xl);
            text-align: left;
            border: 2px solid var(--card-border);
            color: var(--text-color);
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            z-index: 1001;
            width: 400px;
            opacity: 0;
            transform: scale(0.9) translateY(20px);
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-large);
        }

        .modal.show .modal-content {
            opacity: 1;
            transform: scale(1) translateY(0);
        }

        /* Remove the floating image container - causing the duplicate image issue */
        .modal-img-container {
            display: none !important;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-lg);
            position: relative;
        }

        .modal-close-btn {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 32px;
            height: 32px;
            background: var(--primary-orange);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            transition: all var(--transition-normal);
            z-index: 1002;
            box-shadow: var(--shadow-medium);
        }

        .modal-close-btn:hover {
            background: var(--primary-orange-hover);
            transform: scale(1.1);
            box-shadow: var(--shadow-glow);
        }

        .modal-share-btn {
            position: absolute;
            top: -10px;
            right: 30px;
            width: 32px;
            height: 32px;
            background: var(--accent-blue);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all var(--transition-normal);
            z-index: 1002;
            box-shadow: var(--shadow-medium);
        }

        .modal-share-btn:hover {
            background: var(--accent-blue-hover);
            transform: scale(1.1);
            box-shadow: var(--shadow-glow);
        }

        .modal-share-btn:active {
            transform: scale(0.95);
        }

        .modal-image-container {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .modal img {
            width: 120px;
            height: 120px;
            border-radius: var(--radius-md);
            user-select: none;
            object-fit: contain;
            border: 2px solid var(--card-border);
            box-shadow: var(--shadow-medium);
            background: var(--background-secondary);
        }

        .modal-title {
            font-size: var(--font-size-xl);
            font-weight: 700;
            margin: 0 0 var(--spacing-sm) 0;
            color: var(--primary-orange);
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
            line-height: 1.3;
        }

        .modal-subtitle {
            margin: var(--spacing-sm) 0 var(--spacing-lg) 0;
            line-height: 1.6;
            font-size: var(--font-size-base);
            color: var(--text-secondary);
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .modal-section {
            background: var(--background-secondary);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            margin: var(--spacing-md) 0;
            border: 1px solid var(--card-border);
        }

        .modal-section h4 {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-secondary);
            margin: 0 0 var(--spacing-xs) 0;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .modal-section p {
            margin: var(--spacing-xs) 0;
            font-size: var(--font-size-sm);
            line-height: 1.5;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .modal-section span {
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
        }

        /* Remove the old close button styles */
        .modal-close {
            display: none;
        }

        /* Enhanced Loading Animation */
        .loading-dot {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 24px;
            background: var(--gradient-primary);
            border-radius: 50%;
            animation: pulseGlow 1.5s infinite ease-in-out;
            z-index: 9999;
            box-shadow: var(--shadow-glow);
        }

        @keyframes pulseGlow {
            0%, 100% { 
                opacity: 0.4; 
                transform: translate(-50%, -50%) scale(0.8); 
                box-shadow: 0 0 0 0 var(--primary-orange);
            }
            50% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1.2); 
                box-shadow: 0 0 0 10px transparent;
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        @keyframes toastSlideDown {
            from {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
            to {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
        }

        .divider {
            border-top: 1px solid var(--card-border);
            margin: var(--spacing-md) 0;
        }

        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: var(--spacing-2xl);
            color: var(--text-secondary);
            font-size: var(--font-size-lg);
            font-weight: 500;
        }

        .no-results::before {
            content: '🔍';
            display: block;
            font-size: 48px;
            margin-bottom: var(--spacing-md);
            opacity: 0.5;
        }

        /* Footer Styles */
        .footer {
            text-align: center;
            padding: var(--spacing-xl) var(--spacing-lg);
            font-size: var(--font-size-sm);
            color: var(--text-muted);
            border-top: 1px solid var(--card-border);
            margin-top: var(--spacing-2xl);
            background: var(--background-secondary);
        }

        .footer a {
            color: var(--primary-orange);
            text-decoration: none;
            font-weight: 500;
            transition: color var(--transition-normal);
        }

        .footer a:hover {
            color: var(--primary-orange-hover);
            text-decoration: underline;
        }

        .footer-legal {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            margin-top: var(--spacing-sm);
            opacity: 0.8;
        }

        /* Disclaimer Section Styles */
        .disclaimer-section {
            background: var(--background-secondary);
            border-top: 1px solid var(--card-border);
            margin-top: var(--spacing-2xl);
            padding: var(--spacing-2xl) 0;
        }

        .disclaimer-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        .disclaimer-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            color: var(--primary-orange);
            margin-bottom: var(--spacing-lg);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
        }

        .disclaimer-content {
            background: var(--card-background);
            border: 1px solid var(--card-border);
            border-radius: var(--radius-md);
            padding: var(--spacing-xl);
            line-height: 1.7;
        }

        .disclaimer-content p {
            margin-bottom: var(--spacing-md);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .disclaimer-content p:last-child {
            margin-bottom: 0;
        }

        .disclaimer-content strong {
            color: var(--text-color);
            font-weight: 600;
        }

        .disclaimer-content a {
            color: var(--primary-orange);
            text-decoration: underline;
            font-weight: 500;
            transition: color var(--transition-normal);
        }

        .disclaimer-content a:hover {
            color: var(--primary-orange-hover);
        }

        .disclaimer-contact {
            background: var(--background-secondary);
            border: 1px solid var(--card-border);
            border-radius: var(--radius-sm);
            padding: var(--spacing-md);
            margin-top: var(--spacing-lg);
            text-align: center;
        }

        @media (max-width: 768px) {
            .disclaimer-container {
                padding: 0 var(--spacing-md);
            }
            
            .disclaimer-content {
                padding: var(--spacing-lg);
            }
            
            .disclaimer-title {
                font-size: var(--font-size-lg);
            }
        }

        /* Enhanced Responsive Design */
        @media (max-width: 768px) {
            .header {
                height: 60px;
                padding: var(--spacing-sm) var(--spacing-md);
            }
            
            .header.search-mode {
                height: auto;
                padding: var(--spacing-md);
            }
            
            .header-logo {
                width: 28px;
                height: 28px;
            }
            
            .header-title {
                font-size: var(--font-size-lg);
            }
            
            .header-menu {
                width: 36px;
                height: 36px;
                font-size: var(--font-size-base);
            }
            
            .container {
                padding: var(--spacing-lg) var(--spacing-md);
            }
            
            .grid-container {
                grid-template-columns: repeat(auto-fill, minmax(95px, 1fr));
                gap: var(--spacing-sm);
            }
            
            .icon-card {
                height: 95px;
                padding: var(--spacing-sm);
            }
            
            .icon-card img {
                width: 60px;
                height: 60px;
            }
            
            .modal-content {
                width: 95%;
                padding: var(--spacing-lg);
                max-height: 85vh;
            }
            
            .modal-close-btn {
                width: 28px;
                height: 28px;
                font-size: 14px;
                top: -8px;
                right: -8px;
            }
            
            .modal img {
                width: 100px;
                height: 100px;
            }
            
            .modal-title {
                font-size: var(--font-size-lg);
            }
            
            .filters-row {
                flex-direction: column;
                gap: var(--spacing-sm);
            }
            
            .filter-select {
                font-size: var(--font-size-xs);
                padding: var(--spacing-xs) var(--spacing-sm);
                height: 36px;
            }
            
            .search-textarea {
                height: 44px;
                font-size: var(--font-size-sm);
            }
            
            /* Hide side ad on mobile */
            .side-ad,
            .sticky-side-ad {
                display: none !important;
            }
            
            /* Stack content better on mobile */
            .high-value-content > div,
            .lifestyle-content > div {
                grid-template-columns: 1fr !important;
                gap: var(--spacing-md) !important;
            }
        }

        /* iframe Detection and Styling */
        .iframe-notice {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--gradient-primary);
            color: white;
            padding: var(--spacing-sm);
            text-align: center;
            font-size: var(--font-size-sm);
            font-weight: 500;
            z-index: 1000;
            transform: translateY(-100%);
            transition: transform var(--transition-normal);
            box-shadow: var(--shadow-medium);
        }

        .iframe-notice.show {
            transform: translateY(0);
        }

        .iframe-notice a {
            color: white;
            text-decoration: underline;
            font-weight: 600;
        }

        .iframe-notice button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: var(--spacing-xs) var(--spacing-sm);
            margin-left: var(--spacing-md);
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: var(--font-size-xs);
            transition: background var(--transition-normal);
        }

        .iframe-notice button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Iframe optimizations */
        body.in-iframe {
            padding-top: 0;
        }

        body.in-iframe .header {
            position: relative;
        }

        body.in-iframe .footer {
            padding: var(--spacing-md);
            font-size: var(--font-size-xs);
        }

        /* AdSense Container Styling */
        .ad-container {
            display: flex;
            justify-content: center;
            margin: var(--spacing-xl) 0;
            padding: var(--spacing-md);
            background: var(--background-secondary);
            border-radius: var(--radius-md);
            border: 1px solid var(--card-border);
        }

        .ad-container.header-ad {
            margin: var(--spacing-md) var(--spacing-lg);
            margin-bottom: 0;
        }

        .ad-container.content-ad {
            margin: var(--spacing-2xl) 0;
        }

        .ad-container.footer-ad {
            margin-top: var(--spacing-xl);
            margin-bottom: 0;
        }

        @media (max-width: 768px) {
            .ad-container {
                margin: var(--spacing-md) 0;
                padding: var(--spacing-sm);
            }
            
            .ad-container.header-ad {
                margin: var(--spacing-sm);
                margin-bottom: 0;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: var(--spacing-md) var(--spacing-sm);
            }
            
            .grid-container {
                grid-template-columns: repeat(auto-fill, minmax(85px, 1fr));
            }
            
            .icon-card {
                height: 85px;
            }
            
            .icon-card img {
                width: 50px;
                height: 50px;
            }
            
            .header-title {
                font-size: var(--font-size-base);
            }
            
            .modal-content {
                padding: var(--spacing-md);
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --card-border: #555;
                --text-secondary: #ccc;
                --text-muted: #999;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Dark mode is default, but prepare for light mode toggle */
        .light-mode {
            --background-color: #ffffff;
            --background-secondary: #f8f9fa;
            --text-color: #1a1a1a;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --card-background: #ffffff;
            --card-border: #e2e8f0;
            --modal-background: rgba(255, 255, 255, 0.95);
            --modal-content-background: #ffffff;
        }

        /* Performance optimizations */
        .icon-card img {
            will-change: transform;
        }

        .modal-content {
            will-change: transform, opacity;
        }

        .header {
            will-change: background-color, box-shadow;
        }

        /* Print styles */
        @media print {
            .header,
            .pagination-container,
            .modal,
            .loading-dot {
                display: none !important;
            }
            
            .container {
                padding: 0;
            }
            
            .icon-card {
                break-inside: avoid;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>  
<body>  
    <!-- Loading Screen -->
    <div class="loading-dot" id="loadingDot" aria-label="Loading items..."></div>  
    
    <!-- Main Header with Search -->
    <header class="header" id="header" role="banner">
        <div class="header-title-container">
            <div class="header-branding">
                <img src="https://www.freefirecommunity.com/wp-content/uploads/2025/06/cropped-FFCRefinedFavicon-1.png" 
                     alt="Free Fire Community Icon" 
                     class="header-logo"
                     onerror="this.style.display='none'">
                <h1 class="header-title">basement</h1>
            </div>
            <button class="header-menu" id="menuButton" aria-label="Toggle search" role="button">
                <i class="fas fa-search" aria-hidden="true"></i>
            </button>
        </div>
        
        <div class="search-container" role="search">
            <label for="search" class="sr-only">Search items</label>
            <textarea 
                class="search-textarea" 
                id="search" 
                placeholder="Search by item name, ID, or description..." 
                aria-describedby="search-help"
                rows="1"
            ></textarea>
            <i class="fas fa-search search-icon" aria-hidden="true"></i>
            <div id="search-help" class="sr-only">Type to search through Free Fire items database</div>
        </div>
        
        <div class="filters-row" role="group" aria-label="Filter options">
            <select class="filter-select" id="filter-Rare" aria-label="Filter by rarity">
                <option value="">All Rarities</option>
            </select>
            <select class="filter-select" id="filter-itemType" aria-label="Filter by item type">
                <option value="">All Types</option>
            </select>
            <select class="filter-select" id="filter-collectionType" aria-label="Filter by collection">
                <option value="">All Collections</option>
            </select>
        </div>
    </header>
    
    <!-- iframe Detection Notice -->
    <div id="iframe-notice" class="iframe-notice">
        🎮 Free Fire basement in Discord! Some features may be limited due to Discord's security restrictions.
        <a href="https://basement.freefirecommunity.com" target="_blank">Open full site</a>
        <button onclick="dismissIframeNotice()">×</button>
    </div>
    
    <!-- Top Banner Ad (Above Items) -->
    <div class="ad-container header-ad">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-6409311049525505"
             data-ad-slot="7317445135"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
    </div>
    
    <!-- Main Content -->
    <main class="container" id="container" style="display: none;">
        
        <!-- Search and Filters Section (Top of Items) -->
        <section class="search-filters-section" style="background: var(--card-background); padding: var(--spacing-xl); margin-bottom: var(--spacing-xl); border-radius: var(--radius-lg); border: 2px solid var(--card-border); box-shadow: var(--shadow-medium);">
            <div style="max-width: 800px; margin: 0 auto;">
                <h3 style="color: var(--primary-orange); font-size: var(--font-size-xl); margin-bottom: var(--spacing-lg); text-align: center; font-weight: 600;">
                    🈲 Search & Filter Items
                </h3>
                
                <!-- Search Box -->
                <div style="position: relative; margin-bottom: var(--spacing-lg);">
                    <label for="main-search" class="sr-only">Search items</label>
                    <textarea 
                        class="main-search-input" 
                        id="main-search" 
                        placeholder="Search by item name, ID, description, or rarity..." 
                        aria-describedby="main-search-help"
                        rows="1"
                        style="width: 100%; padding: var(--spacing-md) var(--spacing-md) var(--spacing-md) 50px; border-radius: var(--radius-md); border: 2px solid var(--card-border); background: var(--background-secondary); color: var(--text-color); font-family: var(--font-family); font-size: var(--font-size-base); height: 56px; resize: none; transition: all var(--transition-normal);"
                    ></textarea>
                    <i class="fas fa-search" style="position: absolute; left: var(--spacing-md); top: 50%; transform: translateY(-50%); color: var(--text-muted); font-size: var(--font-size-lg);" aria-hidden="true"></i>
                    <div id="main-search-help" class="sr-only">Type to search through Free Fire items database</div>
                </div>
                
                <!-- Filters Row -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md);">
                    <div>
                        <label for="main-filter-Rare" style="display: block; color: var(--text-secondary); font-size: var(--font-size-sm); font-weight: 600; margin-bottom: var(--spacing-xs);">Rarity</label>
                        <select id="main-filter-Rare" style="width: 100%; padding: var(--spacing-md); border-radius: var(--radius-md); border: 2px solid var(--card-border); background: var(--background-secondary); color: var(--text-color); font-size: var(--font-size-base); font-weight: 500; cursor: pointer; outline: none; height: 48px; font-family: var(--font-family); transition: all var(--transition-normal);" aria-label="Filter by rarity">
                            <option value="">All Rarities</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="main-filter-itemType" style="display: block; color: var(--text-secondary); font-size: var(--font-size-sm); font-weight: 600; margin-bottom: var(--spacing-xs);">Item Type</label>
                        <select id="main-filter-itemType" style="width: 100%; padding: var(--spacing-md); border-radius: var(--radius-md); border: 2px solid var(--card-border); background: var(--background-secondary); color: var(--text-color); font-size: var(--font-size-base); font-weight: 500; cursor: pointer; outline: none; height: 48px; font-family: var(--font-family); transition: all var(--transition-normal);" aria-label="Filter by item type">
                            <option value="">All Types</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="main-filter-collectionType" style="display: block; color: var(--text-secondary); font-size: var(--font-size-sm); font-weight: 600; margin-bottom: var(--spacing-xs);">Collection</label>
                        <select id="main-filter-collectionType" style="width: 100%; padding: var(--spacing-md); border-radius: var(--radius-md); border: 2px solid var(--card-border); background: var(--background-secondary); color: var(--text-color); font-size: var(--font-size-base); font-weight: 500; cursor: pointer; outline: none; height: 48px; font-family: var(--font-family); transition: all var(--transition-normal);" aria-label="Filter by collection">
                            <option value="">All Collections</option>
                        </select>
                    </div>
                </div>
                
                <!-- Results Info -->
                <div id="results-info" style="margin-top: var(--spacing-md); text-align: center; color: var(--text-secondary); font-size: var(--font-size-sm);"></div>
            </div>
        </section>
  
        <div class="grid-container" id="iconGrid" role="grid" aria-label="Items grid"></div>  
        
        <nav class="pagination-container" aria-label="Pagination">  
            <div class="pagination" id="pagination" role="group"></div>  
        </nav>  
    </main>

    <!-- Optimized Content Section (Below Items for Better UX) -->
    <section class="comprehensive-content" style="background: var(--background-secondary); padding: var(--spacing-2xl); border-top: 1px solid var(--card-border);">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h2 style="color: var(--primary-orange); font-size: var(--font-size-2xl); margin-bottom: var(--spacing-xl); text-align: center;">
                🎮 Complete Free Fire Gaming Guide
            </h2>
            
            <!-- Premium Top Ad (High Engagement Zone) -->
            <div class="ad-container top-content-ad" style="margin: 0 0 var(--spacing-2xl) 0; background: linear-gradient(135deg, var(--primary-orange-light), var(--background-secondary)); border: 2px solid var(--primary-orange); border-radius: var(--radius-lg); padding: var(--spacing-lg);">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-6409311049525505"
                     data-ad-slot="7317445135"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: var(--spacing-xl); margin-bottom: var(--spacing-2xl);">
                <!-- Gaming Equipment -->
                <div style="background: var(--card-background); padding: var(--spacing-xl); border-radius: var(--radius-md); border: 1px solid var(--card-border);">
                    <h3 style="color: var(--primary-orange); margin-bottom: var(--spacing-md); font-size: var(--font-size-xl);">💰 Gaming Equipment & Setup</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: var(--spacing-md);">Enhance your Free Fire experience with professional gaming gear. From high-performance smartphones to precision controllers, the right equipment gives you the competitive edge.</p>
                    <ul style="color: var(--text-secondary); margin: 0; padding-left: var(--spacing-lg);">
                        <li style="margin-bottom: var(--spacing-xs);">Gaming smartphones with 90Hz+ displays</li>
                        <li style="margin-bottom: var(--spacing-xs);">Bluetooth controllers and gaming triggers</li>
                        <li style="margin-bottom: var(--spacing-xs);">Premium gaming headsets for audio advantage</li>
                        <li style="margin-bottom: var(--spacing-xs);">Portable chargers and cooling fans</li>
                    </ul>
                </div>
                
                <!-- Technology & Software -->
                <div style="background: var(--card-background); padding: var(--spacing-xl); border-radius: var(--radius-md); border: 1px solid var(--card-border);">
                    <h3 style="color: var(--primary-orange); margin-bottom: var(--spacing-md); font-size: var(--font-size-xl);">💻 Technology & Software</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: var(--spacing-md);">Stay ahead with cutting-edge technology solutions for mobile gaming. From cloud gaming to AI-powered assistance, technology is revolutionizing the gaming experience.</p>
                    <ul style="color: var(--text-secondary); margin: 0; padding-left: var(--spacing-lg);">
                        <li style="margin-bottom: var(--spacing-xs);">Cloud gaming platforms and services</li>
                        <li style="margin-bottom: var(--spacing-xs);">VPN services for optimal connectivity</li>
                        <li style="margin-bottom: var(--spacing-xs);">Screen recording and streaming software</li>
                        <li style="margin-bottom: var(--spacing-xs);">Gaming analytics and performance tools</li>
                    </ul>
                </div>
                
                <!-- Career & Education -->
                <div style="background: var(--card-background); padding: var(--spacing-xl); border-radius: var(--radius-md); border: 1px solid var(--card-border);">
                    <h3 style="color: var(--primary-orange); margin-bottom: var(--spacing-md); font-size: var(--font-size-xl);">📚 Career & Education</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: var(--spacing-md);">Transform your passion into a career. The gaming industry offers diverse opportunities from development to content creation, marketing, and professional esports.</p>
                    <ul style="color: var(--text-secondary); margin: 0; padding-left: var(--spacing-lg);">
                        <li style="margin-bottom: var(--spacing-xs);">Game development and programming courses</li>
                        <li style="margin-bottom: var(--spacing-xs);">Esports training and coaching programs</li>
                        <li style="margin-bottom: var(--spacing-xs);">Content creation and streaming education</li>
                        <li style="margin-bottom: var(--spacing-xs);">Digital marketing certifications</li>
                    </ul>
                </div>
                
                <!-- Lifestyle & Investment -->
                <div style="background: var(--card-background); padding: var(--spacing-xl); border-radius: var(--radius-md); border: 1px solid var(--card-border);">
                    <h3 style="color: var(--primary-orange); margin-bottom: var(--spacing-md); font-size: var(--font-size-xl);">🏠 Lifestyle & Investment</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: var(--spacing-md);">Create the perfect gaming environment while making smart financial decisions. Balance your gaming passion with lifestyle improvements and investment opportunities.</p>
                    <ul style="color: var(--text-secondary); margin: 0; padding-left: var(--spacing-lg);">
                        <li style="margin-bottom: var(--spacing-xs);">Ergonomic furniture and lighting solutions</li>
                        <li style="margin-bottom: var(--spacing-xs);">Gaming industry investment opportunities</li>
                        <li style="margin-bottom: var(--spacing-xs);">Financial planning and budgeting tools</li>
                        <li style="margin-bottom: var(--spacing-xs);">Insurance for gaming equipment</li>
                    </ul>
                </div>
            </div>
            
            <!-- Content Ad (Between Posts) -->
            <div class="ad-container content-ad" style="margin: var(--spacing-2xl) 0;">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-6409311049525505"
                     data-ad-slot="4452408958"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>
        </div>
    </section>

    <!-- Item Details Modal -->
    <div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true">  
        <div class="modal-bg" onclick="closeModal()" aria-label="Close modal"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-share-btn" onclick="shareCurrentItem()" aria-label="Share this item" title="Share with friends">
                    <i class="fas fa-share-alt"></i>
                </button>
                <button class="modal-close-btn" onclick="closeModal()" aria-label="Close modal">×</button>
            </div>
            
            <div class="modal-image-container">
                <img id="modalImage" alt="Item image">
            </div>
            
            <h3 class="modal-title" id="modal-title">
                <span id="modalDescription"></span>
            </h3>
            <p class="modal-subtitle" id="modalDescription2"></p>
            
            <div class="modal-section">
                <h4>Item Details</h4>
                <p><strong>Item ID:</strong> <span id="modalItemId"></span></p>
                <p><strong>Icon Name:</strong> <span id="modalIconName"></span></p>
            </div>
            
            <div class="modal-section">
                <h4>Classification</h4>
                <p><strong>Type:</strong> <span id="modalType"></span></p>
                <p><strong>Collection:</strong> <span id="modalCollectionType"></span></p>
                <p><strong>Rarity:</strong> <span id="modalRare"></span></p>
            </div>
        </div>  
    </div>
    
    <!-- Legal Disclaimer -->
    <section class="disclaimer-section">
        <div class="disclaimer-container">
            <h3 class="disclaimer-title">📋 Important Disclaimer</h3>
            <div class="disclaimer-content">
                <p><strong>Educational Content Notice:</strong> This website provides comprehensive educational information about Free Fire items, gaming strategies, technology trends, and related topics. All product recommendations and reviews are based on extensive research and community feedback.</p>
                
                <p><strong>Affiliate Disclosure:</strong> This site may contain affiliate links and advertisements. We may earn commissions from purchases made through these links, which helps support our content creation and server costs at no additional cost to you.</p>
                
                <p><strong>Gaming Responsibly:</strong> Please game responsibly and within your means. Set time limits, take regular breaks, and prioritize your health, education, and real-life responsibilities. If you're experiencing gaming-related issues, please seek help from appropriate resources.</p>
                
                <p><strong>Investment & Financial Advice Disclaimer:</strong> Any financial, investment, or business information provided is for educational purposes only and should not be considered professional financial advice. Always consult with qualified professionals before making investment decisions.</p>
                
                <p><strong>Third-Party Content:</strong> We are not responsible for the content, privacy policies, or practices of third-party websites linked from this site. All external links are provided for convenience and informational purposes only.</p>
                
                <p><strong>Intellectual Property Notice:</strong> All game assets, item data, names, images, and related content are the exclusive property of <strong>Garena International</strong> and <strong>Sea Limited</strong>. We do not claim ownership of any game-related content.</p>
                
                <p><strong>Fair Use Policy:</strong> This database operates under fair use principles for educational research and community reference. We respect Garena's intellectual property rights and will promptly remove any content upon official request.</p>
                
                <p><strong>No Commercial Use:</strong> This website is non-commercial and not affiliated with, endorsed by, or sponsored by Garena International or Sea Limited. Any advertisements are used solely to support hosting costs.</p>
                
                <p><strong>Terms of Service:</strong> By using this website, you agree to respect Garena's <a href="https://ff.garena.com/terms/" target="_blank" rel="noopener">Terms of Service</a> and <a href="https://ff.garena.com/privacy/" target="_blank" rel="noopener">Privacy Policy</a>. Users must comply with all applicable laws and regulations.</p>
                
                <p><strong>Content Accuracy:</strong> While we strive for accuracy, item information may change due to game updates. Always refer to the official Free Fire game for the most current item details.</p>
                
                <div class="disclaimer-contact">
                    <p><strong>Questions or Concerns?</strong> Contact us at: <a href="mailto:contact@freefirecommunity.com">contact@freefirecommunity.com</a> | <a href="mailto:legal@freefirecommunity.com">legal@freefirecommunity.com</a></p>
                </div>
            </div> 
                </p>
            </div>
        </div>
    </section>

    <!-- High-Value Bottom Content Section -->
    <section style="background: var(--background-secondary); padding: var(--spacing-2xl); border-top: 1px solid var(--card-border);">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h3 style="color: var(--primary-orange); font-size: var(--font-size-2xl); text-align: center; margin-bottom: var(--spacing-xl);">
                📈 Latest Gaming Industry Trends & News
            </h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-xl);">
                <div style="background: var(--card-background); padding: var(--spacing-xl); border-radius: var(--radius-md); border: 1px solid var(--card-border);">
                    <h4 style="color: var(--primary-orange); margin-bottom: var(--spacing-md);">🌟 Emerging Gaming Technologies</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6;">Stay updated with the latest innovations in mobile gaming, including 5G technology, cloud gaming platforms, AI-enhanced gameplay, virtual reality integration, and blockchain gaming ecosystems that are shaping the future of interactive entertainment.</p>
                </div>
                
                <div style="background: var(--card-background); padding: var(--spacing-xl); border-radius: var(--radius-md); border: 1px solid var(--card-border);">
                    <h4 style="color: var(--primary-orange); margin-bottom: var(--spacing-md);">💡 Career Opportunities in Gaming</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6;">Explore diverse career paths in the gaming industry, from game development and esports management to content creation, marketing, and community building. Learn about emerging roles in game analytics, user experience design, and gaming psychology.</p>
                </div>
                
                <div style="background: var(--card-background); padding: var(--spacing-xl); border-radius: var(--radius-md); border: 1px solid var(--card-border);">
                    <h4 style="color: var(--primary-orange); margin-bottom: var(--spacing-md);">🎯 Marketing & Business Insights</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6;">Understand the business side of gaming with insights into digital marketing strategies, influencer partnerships, brand collaborations, and monetization models that successful gaming content creators and businesses use to grow their audience and revenue.</p>
                </div>
            </div>
            
            <!-- Bottom Content Ad -->
            <div class="ad-container footer-ad" style="margin-top: var(--spacing-2xl);">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-6409311049525505"
                     data-ad-slot="4452408958"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 <a href="https://basement.freefirecommunity.com" rel="noopener">basement - Free Fire Community</a>. All rights reserved.</p>
        <p>Item data sourced from <a href="https://ff.garena.com" target="_blank" rel="noopener">Garena Free Fire</a> | <a href="https://ff.garena.com/terms/" target="_blank" rel="noopener">Terms</a> | <a href="https://ff.garena.com/privacy/" target="_blank" rel="noopener">Privacy</a></p>
        <p class="footer-legal">This site is not affiliated with Garena International. Free Fire is a trademark of Garena International.</p>
    </footer>
    
    <!-- Initialize AdSense -->
    <script>
        // Initialize AdSense ads after page load
        window.addEventListener('load', function() {
            setTimeout(() => {
                // Initialize header ad
                try {
                    (adsbygoogle = window.adsbygoogle || []).push({});
                } catch (e) {
                    console.log('AdSense header ad initialization failed');
                }
                
                // Initialize mid-content ad after items are loaded
                setTimeout(() => {
                    const midContentAd = document.getElementById('midContentAd');
                    if (midContentAd && filteredData.length > 50) {
                        midContentAd.style.display = 'block';
                        try {
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        } catch (e) {
                            console.log('AdSense mid-content ad initialization failed');
                        }
                    }
                }, 2000);
            }, 1000);
        });
    </script>      
    <script>
        // Enhanced JavaScript with better performance and UX
        let iconsData = [];
        let filteredData = [];
        let currentPage = 0;
        const itemsPerPage = 100;
        let uniqueFilters = {
            itemType: new Set(),
            collectionType: new Set(),
            Rare: new Set()
        };
        let lastClickedCard = null;
        let modalOpen = false;
        let currentModalItem = null;
        let searchOpen = false;
        let searchTimeout = null;
        
        // Ad revenue optimization flags
        let adInteractionCount = 0;
        let contentEngagementTime = 0;
        let startTime = Date.now();

        // Configuration - IMAGE_BASE_URL will be replaced by GitHub Actions
        const CONFIG = {
            IMAGE_BASE_URL: '{{IMAGE_BASE_URL}}', // This placeholder will be replaced during build
            API_ENDPOINT: 'https://raw.githubusercontent.com/starexxx/FFItems/74c2af66d691776c2452bd72ca0388ba52d7c5fb/assets/itemData.json'
        };

        // Initialize configuration with fallbacks for development
        function initializeConfig() {
            // If placeholder wasn't replaced (development), use default
            if (CONFIG.IMAGE_BASE_URL === '{{IMAGE_BASE_URL}}') {
                console.log('Using development configuration - IMAGE_BASE_URL:', CONFIG.IMAGE_BASE_URL);
            } else {
                console.log('Using production configuration - IMAGE_BASE_URL:', CONFIG.IMAGE_BASE_URL);
            }
        }

        // Performance optimization: Debounce search
        function debounce(func, wait) {
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(searchTimeout);
                    func(...args);
                };
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(later, wait);
            };
        }

        // Clear search inputs properly
        function clearSearchInputs() {
            const headerSearch = document.getElementById("search");
            const mainSearch = document.getElementById("main-search");
            
            if (headerSearch) {
                headerSearch.value = '';
            }
            if (mainSearch) {
                mainSearch.value = '';
            }
            
            // Clear any pending timeouts
            if (searchTimeout) {
                clearTimeout(searchTimeout);
            }
            
            // Apply filters immediately
            applyFilters();
        }

        // Enhanced DOM ready with better loading experience
        document.addEventListener("DOMContentLoaded", () => {
            // Initialize configuration first
            initializeConfig();
            
            // Initialize with smooth loading
            setTimeout(() => {
                document.getElementById("loadingDot").style.display = "none";
                const container = document.getElementById("container");
                container.style.display = "block";
                container.style.opacity = "0";
                container.style.transform = "translateY(20px)";
                
                // Animate container in
                requestAnimationFrame(() => {
                    container.style.transition = "all 0.5s ease-out";
                    container.style.opacity = "1";
                    container.style.transform = "translateY(0)";
                });
            }, 1000);

            fetchIcons();
            initializeEventListeners();
            
            // Initialize accessibility features
            initializeA11y();
        });

        function initializeEventListeners() {
            // Enhanced search button
            document.getElementById("menuButton").addEventListener("click", toggleSearchBox);

            // Enhanced scroll behavior
            let scrollTimer = null;
            window.addEventListener('scroll', () => {
                if (scrollTimer) clearTimeout(scrollTimer);
                
                const header = document.getElementById('header');
                if (window.scrollY > 10) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
                
                // Debounce scroll end detection
                scrollTimer = setTimeout(() => {
                    // Optional: Add scroll end logic here
                }, 150);
            }, { passive: true });

            // Enhanced modal touch handling
            document.addEventListener('touchmove', function(e) {
                if (modalOpen) {
                    e.preventDefault();
                }
            }, { passive: false });

            // Keyboard navigation
            document.addEventListener('keydown', handleKeyboardNavigation);

            // Filter event listeners with debounce for both header and main filters
            ["filter-Rare", "filter-itemType", "filter-collectionType", "main-filter-Rare", "main-filter-itemType", "main-filter-collectionType"].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener("change", debouncedApplyFilters);
                }
            });
            
            // Search input listeners with improved debouncing
            const headerSearch = document.getElementById("search");
            const mainSearch = document.getElementById("main-search");
            
            if (headerSearch) {
                headerSearch.addEventListener("input", (e) => {
                    // Clear timeout to prevent previous calls
                    if (searchTimeout) {
                        clearTimeout(searchTimeout);
                    }
                    searchTimeout = setTimeout(() => {
                        debouncedApplyFilters();
                    }, 400);
                });
                
                headerSearch.addEventListener("keydown", (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        if (searchTimeout) {
                            clearTimeout(searchTimeout);
                        }
                        applyFilters(); // Immediate search on Enter
                    }
                });
            }
            
            if (mainSearch) {
                mainSearch.addEventListener("input", (e) => {
                    // Clear timeout to prevent previous calls
                    if (searchTimeout) {
                        clearTimeout(searchTimeout);
                    }
                    searchTimeout = setTimeout(() => {
                        debouncedApplyFilters();
                    }, 400);
                });
                
                mainSearch.addEventListener("keydown", (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        if (searchTimeout) {
                            clearTimeout(searchTimeout);
                        }
                        applyFilters(); // Immediate search on Enter
                    }
                });
            }
        }

        function initializeA11y() {
            // Add screen reader only class
            const style = document.createElement('style');
            style.textContent = `
                .sr-only {
                    position: absolute;
                    width: 1px;
                    height: 1px;
                    padding: 0;
                    margin: -1px;
                    overflow: hidden;
                    clip: rect(0, 0, 0, 0);
                    white-space: nowrap;
                    border: 0;
                }
            `;
            document.head.appendChild(style);
        }

        function handleKeyboardNavigation(e) {
            // ESC key closes modal and share modals
            if (e.key === 'Escape') {
                if (modalOpen) {
                    closeModal();
                } else {
                    // Close any share modals
                    const shareModals = document.querySelectorAll('.share-modal-overlay');
                    if (shareModals.length > 0) {
                        closeShareModal();
                    }
                }
            }
            
            // Enter key on search button
            if (e.key === 'Enter' && e.target.id === 'menuButton') {
                e.preventDefault();
                toggleSearchBox();
            }
            
            // Ctrl/Cmd + K opens search
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                if (!searchOpen) {
                    toggleSearchBox();
                } else {
                    const searchInput = document.getElementById('search');
                    if (searchInput) {
                        searchInput.focus();
                    }
                }
            }
        }

        function toggleSearchBox() {
            const header = document.getElementById("header");
            const menuButton = document.getElementById("menuButton");
            const searchInput = document.getElementById("search");
            
            searchOpen = !searchOpen;
            
            if (searchOpen) {
                header.classList.add("search-mode");
                menuButton.innerHTML = '<i class="fas fa-arrow-left" aria-hidden="true"></i>';
                menuButton.setAttribute('aria-label', 'Close search');
                
                // Focus search input after animation
                setTimeout(() => {
                    if (searchInput) {
                        searchInput.focus();
                        // Don't auto-select, let user position cursor
                    }
                }, 300);
            } else {
                header.classList.remove("search-mode");
                menuButton.innerHTML = '<i class="fas fa-search" aria-hidden="true"></i>';
                menuButton.setAttribute('aria-label', 'Open search');
                if (searchInput) {
                    searchInput.blur();
                }
            }
        }

        async function fetchIcons() {
            try {
                // Show loading state
                const grid = document.getElementById("iconGrid");
                grid.innerHTML = '<div class="no-results">Loading items...</div>';

                const response = await fetch(CONFIG.API_ENDPOINT);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();

                // Enhanced data processing with validation
                iconsData = data.map(item => ({
                    itemId: item["itemID"] || "Unknown",
                    name: item["description"] || "Unknown Item",
                    iconName: item["icon"] || "unknown",
                    description: item["description"] || "No description available",
                    description2: item["description2"] || "",
                    itemType: item["itemType"] ? item["itemType"].replace(/_/g, ' ') : 'Unknown',
                    collectionType: item["collectionType"] ? item["collectionType"].replace(/_/g, ' ') : 'Unknown',
                    Rare: item["Rare"] || "Common",
                    imageUrl: `${CONFIG.IMAGE_BASE_URL}/${item["itemID"]}.png`
                })).filter(item => item.itemId !== "Unknown"); // Filter out invalid items

                // Populate filter options
                iconsData.forEach(item => {
                    if (item.itemType && item.itemType !== 'Unknown') uniqueFilters.itemType.add(item.itemType);
                    if (item.collectionType && item.collectionType !== 'Unknown') uniqueFilters.collectionType.add(item.collectionType);
                    if (item.Rare) uniqueFilters.Rare.add(item.Rare);
                });

                populateDropdown("filter-Rare", uniqueFilters.Rare);
                populateDropdown("filter-itemType", uniqueFilters.itemType);
                populateDropdown("filter-collectionType", uniqueFilters.collectionType);
                
                // Also populate main filters
                populateDropdown("main-filter-Rare", uniqueFilters.Rare);
                populateDropdown("main-filter-itemType", uniqueFilters.itemType);
                populateDropdown("main-filter-collectionType", uniqueFilters.collectionType);

                filteredData = [...iconsData];
                renderIcons();
                
                // Handle URL search parameters
                const searchParams = new URLSearchParams(window.location.search);
                const query = searchParams.get('q');
                if (query) {
                    const searchInput = document.getElementById('search');
                    if (searchInput) {
                        searchInput.value = decodeURIComponent(query);
                        applyFilters();
                        toggleSearchBox();
                    }
                }

                // Log success for analytics
                console.log(`Successfully loaded ${iconsData.length} items`);
                
            } catch (error) {
                console.error("Failed to retrieve Icons:", error);
                showError(error.message);
            }
        }

        function showError(message = "Failed to load items. Please try again later.") {
            const grid = document.getElementById("iconGrid");
            grid.innerHTML = `
                <div class="no-results">
                    <strong>⚠️ Error Loading Items</strong><br>
                    <span style="font-size: 14px; opacity: 0.8;">${message}</span><br>
                    <button onclick="window.location.reload()" style="margin-top: 16px; padding: 8px 16px; background: var(--primary-orange); color: white; border: none; border-radius: 8px; cursor: pointer;">
                        Retry
                    </button>
                </div>
            `;
        }

        function populateDropdown(id, values) {
            const select = document.getElementById(id);
            const sortedValues = Array.from(values).sort();
            
            // Clear existing options except the first one
            while (select.children.length > 1) {
                select.removeChild(select.lastChild);
            }
            
            sortedValues.forEach(value => {
                if (!value) return;
                const option = document.createElement("option");
                option.value = value;
                option.textContent = value;
                select.appendChild(option);
            });
        }

        // Enhanced filter function with debouncing
        const debouncedApplyFilters = debounce(applyFilters, 300);

        function applyFilters() {
            // Get values from both header and main filters
            const itemTypeFilter = document.getElementById("filter-itemType")?.value || document.getElementById("main-filter-itemType")?.value || "";
            const collectionTypeFilter = document.getElementById("filter-collectionType")?.value || document.getElementById("main-filter-collectionType")?.value || "";
            const rareFilter = document.getElementById("filter-Rare")?.value || document.getElementById("main-filter-Rare")?.value || "";
            const searchQuery = (document.getElementById("search")?.value || document.getElementById("main-search")?.value || "").toLowerCase().trim();
            
            // Enhanced search with multiple field matching
            filteredData = iconsData.filter(item => {
                const searchTerms = searchQuery.split(' ').filter(term => term.length > 0);
                
                const matchesSearch = searchTerms.length === 0 || searchTerms.every(term => 
                    item.name.toLowerCase().includes(term) ||
                    item.itemId.toString().includes(term) ||
                    item.iconName.toLowerCase().includes(term) ||
                    item.description.toLowerCase().includes(term) ||
                    item.description2.toLowerCase().includes(term) ||
                    item.itemType.toLowerCase().includes(term) ||
                    item.collectionType.toLowerCase().includes(term) ||
                    item.Rare.toLowerCase().includes(term)
                );
                
                const matchesType = !itemTypeFilter || item.itemType === itemTypeFilter;
                const matchesCollection = !collectionTypeFilter || item.collectionType === collectionTypeFilter;
                const matchesRare = !rareFilter || item.Rare === rareFilter;
                
                return matchesSearch && matchesType && matchesCollection && matchesRare;
            });
            
            currentPage = 0;
            renderIcons();
            
            // Update URL with search query for sharing
            updateURL(searchQuery);
            
            // Analytics tracking (you can implement your analytics here)
            if (searchQuery) {
                console.log(`Search performed: "${searchQuery}" - ${filteredData.length} results`);
            }
        }

        // Iframe detection and initialization
        function initializeIframeDetection() {
            try {
                // Check if we're in an iframe
                if (window.self !== window.top) {
                    document.body.classList.add('in-iframe');
                    
                    // Show iframe notice
                    const iframeNotice = document.getElementById('iframe-notice');
                    if (iframeNotice) {
                        setTimeout(() => {
                            iframeNotice.classList.add('show');
                        }, 1000);
                    }
                    
                    // Auto-dismiss after 10 seconds for Discord users
                    setTimeout(() => {
                        dismissIframeNotice();
                    }, 10000);
                    
                    // Add special handling for Discord Activities
                    console.log('Running in iframe - likely Discord Activity');
                }
            } catch (e) {
                // If we can't access parent, we're likely in a cross-origin iframe
                document.body.classList.add('in-iframe');
                console.log('Cross-origin iframe detected - likely Discord Activity');
            }
        }

        function dismissIframeNotice() {
            const notice = document.getElementById('iframe-notice');
            if (notice) {
                notice.classList.remove('show');
            }
        }

        function updateURL(searchQuery) {
            const url = new URL(window.location);
            if (searchQuery) {
                url.searchParams.set('q', encodeURIComponent(searchQuery));
            } else {
                url.searchParams.delete('q');
            }
            
            // Update URL without reloading page
            window.history.replaceState({ path: url.href }, '', url.href);
        }

        function renderIcons() {
            const start = currentPage * itemsPerPage;
            const end = start + itemsPerPage;
            const visibleIcons = filteredData.slice(start, end);
            
            const grid = document.getElementById("iconGrid");
            
            // Show loading state during render
            if (filteredData.length > itemsPerPage) {
                grid.style.opacity = '0.6';
            }

            if (filteredData.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <strong>No items found</strong><br>
                        <span style="font-size: 14px; opacity: 0.8;">
                            Try adjusting your search terms or filters
                        </span>
                    </div>
                `;
                document.getElementById("pagination").innerHTML = "";
                return;
            }

            // Use DocumentFragment for better performance
            const fragment = document.createDocumentFragment();

            visibleIcons.forEach((icon, index) => {
                const card = document.createElement("div");
                card.className = "icon-card";
                card.dataset.index = start + index;
                card.setAttribute('role', 'button');
                card.setAttribute('tabindex', '0');
                card.setAttribute('aria-label', `View details for ${icon.name}`);
                
                card.onclick = (e) => {
                    lastClickedCard = card;
                    openModal(icon);
                };
                
                // Keyboard accessibility
                card.onkeydown = (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        lastClickedCard = card;
                        openModal(icon);
                    }
                };
                
                const img = document.createElement("img");
                img.src = icon.imageUrl;
                img.alt = icon.name;
                img.loading = "lazy"; // Lazy loading for performance
                
                // Enhanced error handling with retry
                img.onerror = () => {
                    // Try with different image extension or show placeholder
                    if (!img.dataset.retried) {
                        img.dataset.retried = "true";
                        // Try with different case or format
                        img.src = `${CONFIG.IMAGE_BASE_URL}/${icon.itemId}.webp`;
                    } else {
                        img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjMkEyQTJBIiByeD0iOCIvPgo8cGF0aCBkPSJNMjUgMTVWMzVNMTUgMjVIMzUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+';
                        img.alt = `${icon.name} (Image not available)`;
                    }
                };
                
                card.appendChild(img);
                fragment.appendChild(card);
            });

            grid.innerHTML = "";
            grid.appendChild(fragment);
            
            // Restore opacity
            grid.style.opacity = '1';

            updatePagination();
            
            // Scroll to top smoothly when changing pages
            if (currentPage > 0) {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function updatePagination() {
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            const paginationDiv = document.getElementById("pagination");
            
            if (totalPages <= 1) {
                paginationDiv.innerHTML = "";
                return;
            }

            const fragment = document.createDocumentFragment();
            const maxVisiblePages = 7;
            
            // Calculate page range to show
            let startPage = Math.max(0, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages - 1, startPage + maxVisiblePages - 1);
            
            if (endPage - startPage < maxVisiblePages - 1) {
                startPage = Math.max(0, endPage - maxVisiblePages + 1);
            }

            // Previous button
            if (currentPage > 0) {
                const prevButton = createPaginationButton("❮", currentPage - 1, "Previous page");
                fragment.appendChild(prevButton);
            }

            // First page
            if (startPage > 0) {
                fragment.appendChild(createPaginationButton("1", 0));
                if (startPage > 1) {
                    const dots = document.createElement("span");
                    dots.textContent = "...";
                    dots.style.padding = "8px 4px";
                    dots.style.color = "var(--text-muted)";
                    fragment.appendChild(dots);
                }
            }

            // Page numbers
            for (let i = startPage; i <= endPage; i++) {
                const button = createPaginationButton((i + 1).toString(), i);
                if (i === currentPage) {
                    button.classList.add("active");
                    button.setAttribute('aria-current', 'page');
                }
                fragment.appendChild(button);
            }

            // Last page
            if (endPage < totalPages - 1) {
                if (endPage < totalPages - 2) {
                    const dots = document.createElement("span");
                    dots.textContent = "...";
                    dots.style.padding = "8px 4px";
                    dots.style.color = "var(--text-muted)";
                    fragment.appendChild(dots);
                }
                fragment.appendChild(createPaginationButton(totalPages.toString(), totalPages - 1));
            }

            // Next button
            if (currentPage < totalPages - 1) {
                const nextButton = createPaginationButton("❯", currentPage + 1, "Next page");
                fragment.appendChild(nextButton);
            }

            paginationDiv.innerHTML = "";
            paginationDiv.appendChild(fragment);
        }

        function createPaginationButton(text, page, ariaLabel = null) {
            const button = document.createElement("button");
            button.textContent = text;
            button.onclick = () => changePage(page);
            button.setAttribute('aria-label', ariaLabel || `Go to page ${page + 1}`);
            return button;
        }

        function changePage(page) {
            if (page === currentPage) return;
            
            currentPage = page;
            renderIcons();
            
            // Announce page change to screen readers
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = `Page ${page + 1} loaded`;
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }

        // Use debounced filter function for search input
        function openModal(icon) {
            const modal = document.getElementById("modal");
            const modalContent = document.querySelector('.modal-content');
            
            // Remove any lingering share modals first
            const shareModals = document.querySelectorAll('.share-modal-overlay');
            shareModals.forEach(shareModal => shareModal.remove());
            
            // Store current item for sharing
            currentModalItem = icon;
            
            // Populate modal content with enhanced data
            document.getElementById("modalDescription").textContent = icon.description || "Unknown Item";
            document.getElementById("modalDescription2").textContent = icon.description2 || "";
            document.getElementById("modalItemId").textContent = icon.itemId || "Unknown";
            document.getElementById("modalIconName").textContent = icon.iconName || "Unknown";
            document.getElementById("modalType").textContent = icon.itemType || "Unknown";
            document.getElementById("modalCollectionType").textContent = icon.collectionType || "Unknown";
            document.getElementById("modalRare").textContent = icon.Rare || "Common";
            
            // Set modal title for accessibility
            const modalTitle = document.getElementById("modal-title");
            modal.setAttribute('aria-labelledby', 'modal-title');
            
            // Load image with fallback
            const modalImg = document.getElementById("modalImage");
            modalImg.src = icon.imageUrl;
            modalImg.alt = icon.name || "Item Image";
            modalImg.onerror = () => {
                modalImg.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjMkEyQTJBIiByeD0iMTIiLz4KPHBHDCB1PSJNNjAgNDBWODBNNDAgNjBIODAiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+';
                modalImg.alt = `${icon.name} (Image not available)`;
            };
            
            // Reset modal styles and show
            modal.style.display = 'flex';
            modalContent.style.opacity = '1';
            modalContent.style.transform = 'scale(1) translateY(0)';
            modal.classList.add("show");
            modal.setAttribute('aria-hidden', 'false');
            document.body.style.overflow = "hidden";
            modalOpen = true;
            
            // Focus management
            setTimeout(() => {
                const closeButton = document.querySelector('.modal-close-btn');
                if (closeButton) {
                    closeButton.focus();
                }
            }, 300);
            
            // Simple fade in animation
            modalContent.style.opacity = '1';
            modalContent.style.transform = 'scale(1) translateY(0)';
            
            // Analytics tracking
            console.log(`Modal opened for item: ${icon.name} (ID: ${icon.itemId})`);
        }

        function closeModal() {
            const modal = document.getElementById("modal");
            const modalContent = document.querySelector('.modal-content');
            
            // Reset focus to the card that opened the modal
            if (lastClickedCard) {
                lastClickedCard.focus();
            }
            
            // Simple fade out animation
            modalContent.style.opacity = '0';
            modalContent.style.transform = 'scale(0.9) translateY(20px)';
            
            setTimeout(() => {
                modal.classList.remove("show");
                modal.setAttribute('aria-hidden', 'true');
                modal.style.display = 'none'; // Ensure modal is completely hidden
                document.body.style.overflow = "auto";
                modalOpen = false;
                currentModalItem = null; // Clear current item
                
                // Remove any lingering share modals
                const shareModals = document.querySelectorAll('.share-modal-overlay');
                shareModals.forEach(shareModal => shareModal.remove());
            }, 300);
        }

        function shareCurrentItem() {
            if (!currentModalItem) {
                console.warn('No item currently selected for sharing');
                return;
            }

            const shareData = {
                title: `${currentModalItem.name || currentModalItem.description || 'Free Fire Item'} - basement Database`,
                text: `Check out this Free Fire item: ${currentModalItem.description || currentModalItem.name || 'Amazing item'}! 🔥`,
                url: `${window.location.origin}${window.location.pathname}?item=${currentModalItem.itemId}`
            };

            // Check if Web Share API is supported
            if (navigator.share && navigator.canShare && navigator.canShare(shareData)) {
                navigator.share(shareData)
                    .then(() => {
                        console.log('Item shared successfully');
                        // Optional: Show success feedback
                        showToast('Item shared successfully! 🎉');
                    })
                    .catch((error) => {
                        console.log('Error sharing:', error);
                        fallbackShare(shareData);
                    });
            } else {
                // Fallback for browsers without Web Share API
                fallbackShare(shareData);
            }
        }

        function fallbackShare(shareData) {
            // Try clipboard API first
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(shareData.url)
                    .then(() => {
                        showToast('Link copied to clipboard! 📋');
                    })
                    .catch(() => {
                        // Final fallback - show share modal
                        showShareModal(shareData);
                    });
            } else {
                // Final fallback - show share modal
                showShareModal(shareData);
            }
        }

        function showShareModal(shareData) {
            // Remove any existing share modals first
            const existingShareModals = document.querySelectorAll('.share-modal-overlay');
            existingShareModals.forEach(modal => modal.remove());
            
            // Create a temporary share modal
            const shareModal = document.createElement('div');
            shareModal.className = 'share-modal-overlay';
            shareModal.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center;" onclick="closeShareModal(event)">
                    <div style="background: var(--modal-content-background); padding: 2rem; border-radius: 16px; max-width: 400px; width: 90%; text-align: center;" onclick="event.stopPropagation()">
                        <h3 style="margin-bottom: 1rem; color: var(--text-color);">Share This Item</h3>
                        <p style="margin-bottom: 1rem; color: var(--text-secondary);">${shareData.text}</p>
                        <input type="text" value="${shareData.url}" readonly 
                               style="width: 100%; padding: 0.75rem; margin-bottom: 1rem; background: var(--card-background); border: 1px solid var(--card-border); border-radius: 8px; color: var(--text-color); font-family: inherit;" 
                               onclick="this.select()">
                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            <button onclick="copyLinkAndClose('${shareData.url}');" 
                                    style="padding: 0.75rem 1.5rem; background: var(--accent-blue); color: white; border: none; border-radius: 8px; cursor: pointer;">
                                Copy Link
                            </button>
                            <button onclick="closeShareModal();" 
                                    style="padding: 0.75rem 1.5rem; background: var(--card-border); color: var(--text-color); border: none; border-radius: 8px; cursor: pointer;">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(shareModal);
            
            // Focus the input for accessibility
            setTimeout(() => {
                const input = shareModal.querySelector('input');
                if (input) {
                    input.focus();
                    input.select();
                }
            }, 100);
        }

        function closeShareModal(event) {
            // Only close if clicking the overlay, not the modal content
            if (event && event.target !== event.currentTarget) return;
            
            const shareModals = document.querySelectorAll('.share-modal-overlay');
            shareModals.forEach(modal => {
                modal.style.opacity = '0';
                setTimeout(() => modal.remove(), 200);
            });
        }

        function copyLinkAndClose(url) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(url)
                    .then(() => {
                        showToast('Link copied to clipboard! 📋');
                        closeShareModal();
                    })
                    .catch(() => {
                        showToast('Please copy the link manually');
                    });
            } else {
                showToast('Please copy the link manually');
            }
        }

        function showToast(message) {
            // Create a simple toast notification
            const toast = document.createElement('div');
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 2rem;
                left: 50%;
                transform: translateX(-50%);
                background: var(--primary-orange);
                color: white;
                padding: 1rem 2rem;
                border-radius: 8px;
                z-index: 10001;
                font-weight: 500;
                box-shadow: var(--shadow-glow);
                animation: slideUp 0.3s ease-out;
            `;
            
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.style.animation = 'toastSlideDown 0.3s ease-in forwards';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Enhanced click outside to close
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('modal');
            const modalContent = document.querySelector('.modal-content');
            
            if (modalOpen && event.target === modal && !modalContent.contains(event.target)) {
                closeModal();
            }
        });

        // Service Worker registration for PWA capabilities (optional)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Performance monitoring and initialization
        window.addEventListener('load', () => {
            // Initialize iframe detection
            initializeIframeDetection();
            
            // Track content engagement for ad optimization
            trackContentEngagement();
            
            setTimeout(() => {
                if (window.performance) {
                    const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
                    console.log(`Page load time: ${loadTime}ms`);
                }
                // Initialize all ads
                initializeAllAds();
            }, 0);
        });

        // Content engagement tracking for better ad targeting
        function trackContentEngagement() {
            // Track scroll depth
            let maxScrollDepth = 0;
            window.addEventListener('scroll', () => {
                const scrollDepth = (window.scrollY + window.innerHeight) / document.body.scrollHeight;
                maxScrollDepth = Math.max(maxScrollDepth, scrollDepth);
                
                // Show more ads based on engagement
                if (maxScrollDepth > 0.3 && !document.querySelector('.engagement-ad-shown')) {
                    showEngagementAd();
                }
            }, { passive: true });
            
            // Track time on page
            setInterval(() => {
                contentEngagementTime += 1;
                // Add more ad units for highly engaged users
                if (contentEngagementTime > 30 && !document.querySelector('.engaged-user-ad')) {
                    addEngagedUserAd();
                }
            }, 1000);
        }

        function showEngagementAd() {
            const adContainer = document.createElement('div');
            adContainer.className = 'ad-container engagement-ad-shown';
            adContainer.style.cssText = `
                margin: var(--spacing-xl) auto;
                padding: var(--spacing-lg);
                background: var(--card-background);
                border: 2px solid var(--primary-orange);
                border-radius: var(--radius-lg);
                text-align: center;
                max-width: 728px;
            `;
            adContainer.innerHTML = `
                <ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-6409311049525505"
     data-ad-slot="5707276100"></ins>
            `;
            
            const container = document.querySelector('.container');
            if (container) {
                container.appendChild(adContainer);
                if (window.adsbygoogle) {
                    window.adsbygoogle.push({});
                }
            }
        }

        function addEngagedUserAd() {
            const adContainer = document.createElement('div');
            adContainer.className = 'ad-container engaged-user-ad';
            adContainer.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                z-index: 999;
                background: var(--card-background);
                padding: var(--spacing-md);
                border-radius: var(--radius-lg);
                border: 2px solid var(--primary-orange);
                box-shadow: var(--shadow-large);
                max-width: 320px;
            `;
            adContainer.innerHTML = `
                <button onclick="this.parentElement.style.display='none'" style="position: absolute; top: 5px; right: 5px; background: var(--primary-orange); color: white; border: none; border-radius: 50%; width: 20px; height: 20px; cursor: pointer; font-size: 12px;">×</button>
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-6409311049525505"
                     data-ad-slot="7317445135"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            `;
            
            document.body.appendChild(adContainer);
            if (window.adsbygoogle) {
                window.adsbygoogle.push({});
            }
        }

        function initializeAllAds() {
            // Initialize all AdSense ads
            if (window.adsbygoogle) {
                // Push all ad units
                const adElements = document.querySelectorAll('.adsbygoogle');
                adElements.forEach(() => {
                    try {
                        window.adsbygoogle.push({});
                    } catch (e) {
                        console.log('AdSense initialization skipped');
                    }
                });
            }
        }

        // Add some utility functions for future enhancements
        function shareItem(item) {
            if (navigator.share) {
                navigator.share({
                    title: `${item.name} - basement`,
                    text: `Check out this Free Fire item: ${item.description}`,
                    url: `${window.location.origin}${window.location.pathname}?item=${item.itemId}`
                });
            } else {
                // Fallback: copy to clipboard
                const url = `${window.location.origin}${window.location.pathname}?item=${item.itemId}`;
                navigator.clipboard.writeText(url).then(() => {
                    console.log('Item URL copied to clipboard');
                });
            }
        }

        // Theme toggle function (prepared for future implementation)
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light-mode');
        }
    </script>
</body>  
</html>
